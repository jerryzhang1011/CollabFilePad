:root {
  --bg: #f6f7fb;
  --surface: #ffffff;
  --panel: rgba(255, 255, 255, 0.7);
  --border: #e6e8ee;
  --text: #0c121c;
  --muted: #5c6a7a;
  --accent: #5c8dff;
  --accent-grad: linear-gradient(135deg, #6aa3ff, #97bbff);
  --shadow-1: 0 10px 30px rgba(20,30,55,0.08);
  --radius: 14px;
  --radius-sm: 10px;
  --radius-xs: 8px;
  --backdrop: saturate(180%) blur(18px);
}

* { box-sizing: border-box; }
html, body, #app { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", sans-serif;
}

#app { display: grid; grid-template-rows: auto 1fr auto; }
.appbar { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 12px; padding: 14px 16px; border-bottom: 1px solid var(--border); background: var(--panel); backdrop-filter: var(--backdrop); position: sticky; top: 0; z-index: 10; }
.brand { display: flex; align-items: center; gap: 10px; }
.brand .menu-btn { display: none; }
.brand .logo { width: 24px; height: 24px; border-radius: 7px; background: var(--accent-grad); display: grid; place-items: center; color: white; font-weight: 700; box-shadow: var(--shadow-1); }
.brand h1 { margin: 0; font-size: 16px; font-weight: 600; letter-spacing: 0.2px; }
.center { display: grid; place-items: center; }
.live { display: flex; align-items: center; gap: 8px; color: var(--muted); font-size: 12px; }
.live .dot { width: 6px; height: 6px; border-radius: 999px; background: #28c08a; box-shadow: 0 0 0 4px rgba(40,192,138,0.12); }
.live .sep { opacity: .4; }
.account { display: flex; justify-content: flex-end; gap: 10px; align-items: center; }
.icon-btn { background: var(--surface); border: 1px solid var(--border); color: var(--muted); padding: 6px 10px; border-radius: var(--radius-xs); cursor: pointer; }
.icon-btn:hover { color: var(--text); box-shadow: var(--shadow-1); }
.avatar { width: 28px; height: 28px; border-radius: 999px; background: var(--accent-grad); display: grid; place-items: center; color: white; font-weight: 700; box-shadow: var(--shadow-1); }

main { display: grid; padding: 12px; }
.layout { display: grid; grid-template-columns: 280px 1fr; gap: 16px; height: calc(100vh - 120px); }
.sidebar { border: 1px solid var(--border); border-radius: var(--radius); background: var(--surface); display: grid; grid-template-rows: auto 1fr; overflow: hidden; box-shadow: var(--shadow-1); }
.files-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 12px; border-bottom: 1px solid var(--border); color: var(--muted); font-size: 12px; }
.files-header .actions { display: flex; gap: 6px; }
.files-header button { background: var(--surface); color: var(--muted); border: 1px solid var(--border); border-radius: var(--radius-xs); padding: 6px 10px; font-size: 12px; cursor: pointer; }
.files-header .icon-btn { width: 32px; height: 32px; display: grid; place-items: center; padding: 0; }
.files-header .icon-btn img { width: 18px; height: 18px; display: block; object-fit: contain; }
.files-header button:hover { color: var(--text); box-shadow: var(--shadow-1); }
/* search bar removed */
.file-list { position: relative; list-style: none; margin: 0; padding: 8px; overflow: auto; }
.file-list li { position: relative; display: grid; grid-template-columns: 1fr auto; align-items: center; gap: 8px; padding: 8px 10px; border-radius: var(--radius-sm); cursor: pointer; color: var(--muted); transition: background .2s ease, box-shadow .2s ease, transform .2s ease; }
/* Clear visual distinction between folders and files */
.file-list li.folder-row { color: #2a3e6b; font-weight: 600; letter-spacing: .2px; }
.file-list li.folder-row:hover { background: #eef3ff; }
.file-list li:hover { background: #f1f3f5; color: #2b3542; box-shadow: 0 6px 16px rgba(42,62,107,0.08); transform: translateY(-1px); }
.file-list li.menu-open { background: #f1f3f5; color: #2b3542; box-shadow: 0 6px 16px rgba(42,62,107,0.08); transform: none; z-index: 5; }
.file-list li.active { background: linear-gradient(180deg, #eef4ff, #e8f0ff); color: #1f2b3e; border-left: 2px solid #5c8dff; box-shadow: 0 8px 22px rgba(92,141,255,0.15) inset; }
.file-list li.drop-target { background: linear-gradient(180deg, #eaf2ff, #e6f0ff); color: #1f2b3e; border-left: 2px solid #5c8dff; box-shadow: 0 0 0 1px rgba(92,141,255,0.25) inset, 0 8px 22px rgba(92,141,255,0.12); }

.file-name { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
/* File icon (minimal page outline) */
.file-list li:not(.folder-row)::before { content: ''; position: absolute; left: 10px; top: 50%; transform: translateY(-50%); width: 12px; height: 14px; border: 1px solid var(--border); border-radius: 3px; background: linear-gradient(180deg, #fff, #f6f8ff); box-shadow: inset 0 -1px 0 rgba(0,0,0,0.03); }
.file-list li:not(.folder-row) .file-name { padding-left: 22px; }
.file-actions { display: none; }
.file-list li:hover .file-actions, .file-list li.menu-open .file-actions { display: block; }
.kebab { background: transparent; border: 1px solid var(--border); color: var(--muted); border-radius: var(--radius-xs); padding: 2px 8px; cursor: pointer; }
.kebab:hover { color: var(--text); box-shadow: var(--shadow-1); }
.menu { position: absolute; right: 6px; top: calc(100% + 6px); min-width: 160px; border: 1px solid var(--border); background: #ffffff; border-radius: var(--radius-sm); padding: 6px; display: none; z-index: 9999; box-shadow: 0 12px 28px rgba(20,30,55,0.18), 0 0 0 1px rgba(0,0,0,0.02) inset; }
.menu.open { display: block; }
.menu button { display: block; width: 100%; text-align: left; background: transparent; border: 0; color: var(--muted); padding: 8px 8px; border-radius: var(--radius-xs); cursor: pointer; font-size: 13px; }
.menu button:hover { background: #f3f5fb; color: var(--text); }

.editor-area { border: 0; border-radius: var(--radius); background: var(--surface); padding: 0; display: grid; box-shadow: var(--shadow-1); }
textarea#editor {
  width: 100%;
  height: 100%;
  background: #ffffff;
  color: #0b1420;
  border: 0;
  border-radius: 8px;
  padding: 14px 16px;
  font-size: 14px;
  line-height: 1.6;
  outline: none;
  resize: none;
}
textarea#editor::placeholder { color: #9aa7b8; }

footer { height: 8px; border-top: 1px solid var(--border); background: transparent; }

/* Modal */
.modal { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(12,18,28,0.20); backdrop-filter: var(--backdrop); }
.modal.hidden { display: none; }
.dialog { width: 320px; max-width: calc(100vw - 32px); border: 1px solid rgba(230,232,238,0.45); background: rgba(255,255,255,0.66); backdrop-filter: var(--backdrop); border-radius: 12px; overflow: hidden; box-shadow: 0 8px 20px rgba(12,18,28,0.08), inset 0 1px 0 rgba(255,255,255,0.60); }
.dialog-header { padding: 12px 16px; border-bottom: 0; }
.dialog-header h2 { margin: 0; font-size: 18px; font-weight: 700; letter-spacing: .2px; }
.dialog-body { padding: 0 16px 12px; color: var(--muted); margin-top: 2px; }
.dialog-actions { padding: 12px 16px; display: flex; gap: 12px; justify-content: flex-end; border-top: 0; }
.btn { border: 1px solid var(--border); background: transparent; color: var(--muted); border-radius: var(--radius-xs); padding: 8px 12px; cursor: pointer; transition: filter .15s ease, transform .15s ease; }
.btn.primary { background: var(--accent); color: #ffffff; border-color: #5c8dff; }
.btn.primary:hover { filter: brightness(1.05); }
.btn:hover { color: var(--text); }
.btn.icon { width: auto; height: auto; padding: 0; display: grid; place-items: center; background: transparent; border: 0; border-radius: 0; }
.btn.icon img { width: 20px; height: 20px; display: block; object-fit: contain; filter: none; }
.btn.icon:hover img { filter: brightness(1.05); }
.dialog input { width: 100%; background: #ffffff; color: var(--text); border: 1px solid #e6e8ee; border-radius: 10px; padding: 8px 12px; font-size: 14px; outline: none; transition: box-shadow .15s ease, border-color .15s ease; }
.dialog input:focus { border-color: #5c8dff; box-shadow: 0 0 0 2px rgba(92,141,255,0.25); }
/* input with folder icon */
.dialog input.icon-folder { padding-right: 36px; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='%239aa7b8' fill='none' stroke-width='1.6'><path d='M3 6h7l2 2h9v9a2 2 0 01-2 2H5a2 2 0 01-2-2V6z'/></svg>"); background-repeat: no-repeat; background-position: calc(100% - 10px) 50%; background-size: 20px 20px; }
.dialog input.icon-file { padding-right: 36px; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='%239aa7b8' fill='none' stroke-width='1.6'><path d='M6 3h8l4 4v14H6z'/><path d='M14 3v4h4'/></svg>"); background-repeat: no-repeat; background-position: calc(100% - 10px) 50%; background-size: 20px 20px; }
.danger { color: #ff8e8e; }


/* Responsive sidebar behavior */
@media (max-width: 768px) {
  .brand .menu-btn { display: inline-grid; place-items: center; width: 32px; height: 32px; }
  .layout { grid-template-columns: 1fr; }
  .sidebar { position: fixed; top: 58px; left: 12px; bottom: 12px; width: 78%; max-width: 320px; transform: translateX(-110%); transition: transform .2s ease; z-index: 20; }
  .sidebar.open { transform: translateX(0); }
  main::after { content: ''; position: fixed; inset: 0; background: rgba(12,18,28,0.18); backdrop-filter: var(--backdrop); opacity: 0; pointer-events: none; transition: opacity .2s ease; z-index: 15; }
  .sidebar.open ~ .editor-area::before { content: ''; }
  body.sidebar-open main::after { opacity: 1; pointer-events: auto; }
}


